# –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –¥–µ–ø–ª–æ—è MoonSalon –Ω–∞ –æ–±–ª–∞—á–Ω—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º!

**–ü—Ä–æ–±–ª–µ–º–∞:** Prisma schema –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SQLite (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏), –Ω–æ –Ω–∞ Render –Ω—É–∂–µ–Ω PostgreSQL.

**–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É "migrate found failed migrations"** - —Å–º. —Ä–∞–∑–¥–µ–ª Troubleshooting –Ω–∏–∂–µ.

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º:**

```bash
cd backend
npm run db:switch:postgresql  # –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç –Ω–∞ PostgreSQL (–æ–±–Ω–æ–≤–∏—Ç schema.prisma –∏ migration_lock.toml)

git add prisma/schema.prisma
git add prisma/migrations/migration_lock.toml
git commit -m "Switch to PostgreSQL for production"
git push
```

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ `backend/prisma/schema.prisma` —Ç–µ–ø–µ—Ä—å:**

```prisma
datasource db {
  provider = "postgresql"  ‚Üê –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "postgresql"!
  url      = env("DATABASE_URL")
}
```

**–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏):**

```bash
cd backend
npm run db:switch:sqlite  # –≤–µ—Ä–Ω—É—Ç—å –Ω–∞ SQLite –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run db:push
npm run seed
```

---

## –í–∞—Ä–∏–∞–Ω—Ç 1: Render (Backend) + Vercel (Frontend)

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –∏ –∑–∞–ø—É—à–µ–Ω—ã –≤ GitHub:
   ```bash
   git add .
   git commit -m "Ready for deployment"
   git push origin main
   ```

### –®–∞–≥ 2: –î–µ–ø–ª–æ–π Backend –Ω–∞ Render

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [Render.com](https://render.com) –∏ —Å–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç (–µ—Å–ª–∏ –µ—â–µ –Ω–µ—Ç)
2. –ù–∞–∂–º–∏—Ç–µ "New +" ‚Üí "Web Service"
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–∏—Å:

   - **Name:** `moonsalon-backend`
   - **Environment:** `Node`
   - **Build Command:** `cd backend && npm ci && npx prisma generate && npx prisma db push --accept-data-loss`

   ‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:**

   - –ò—Å–ø–æ–ª—å–∑—É–µ–º `prisma db push` –≤–º–µ—Å—Ç–æ `migrate deploy`, —Ç–∞–∫ –∫–∞–∫ –º–∏–≥—Ä–∞—Ü–∏–∏ –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è SQLite, –∞ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º PostgreSQL.
   - `db push` —Å–æ–∑–¥–∞—Å—Ç —Å—Ö–µ–º—É –Ω–∞–ø—Ä—è–º—É—é –∏–∑ `schema.prisma` –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π.
   - –ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É –ø—Ä–æ failed migrations, —Å–º. —Ä–∞–∑–¥–µ–ª Troubleshooting –Ω–∏–∂–µ.
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –≤—ã–ø–æ–ª–Ω–∏–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ PostgreSQL –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º (—Å–º. —Ä–∞–∑–¥–µ–ª "‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º!" –≤—ã—à–µ).

   - **Start Command:** `cd backend && npm start`
   - **Plan:** Free (–∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ø–ª–∞—Ç–Ω—ã–π)

5. –î–æ–±–∞–≤—å—Ç–µ Environment Variables:

   ```
   NODE_ENV=production
   PORT=8080
   DATABASE_URL=postgresql://... (Render —Å–æ–∑–¥–∞—Å—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ PostgreSQL)
   JWT_SECRET=<—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–æ–∫—É, –º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞>
   CORS_ORIGIN=https://your-frontend-domain.vercel.app
   FRONTEND_URL=https://your-frontend-domain.vercel.app
   ```

   ‚ö†Ô∏è **–í–∞–∂–Ω–æ:**

   - `CORS_ORIGIN` - –¥–ª—è CORS –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–±–µ–∑ –∑–∞–≤–µ—Ä—à–∞—é—â–µ–≥–æ —Å–ª—ç—à–∞!)
   - `FRONTEND_URL` - –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Å—ã–ª–æ–∫ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ email (–±–µ–∑ –∑–∞–≤–µ—Ä—à–∞—é—â–µ–≥–æ —Å–ª—ç—à–∞!)
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π frontend URL –∏–∑ Vercel (–ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è frontend, —Å–º. –®–∞–≥ 3)

   ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** `CORS_ORIGIN` –ø–æ–∫–∞ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º.
   –í—ã –æ–±–Ω–æ–≤–∏—Ç–µ –µ–≥–æ –Ω–∞ **—Ä–µ–∞–ª—å–Ω—ã–π URL –≤–∞—à–µ–≥–æ frontend** –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è frontend (—Å–º. –®–∞–≥ 4).
   –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤–∞—à frontend –±—É–¥–µ—Ç `https://moonsalon-abc123.vercel.app`,
   —Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç URL, –∞ –Ω–µ `your-frontend-domain.vercel.app`!

6. –°–æ–∑–¥–∞–π—Ç–µ PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:

   **–í Render Dashboard (–Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ):**

   - –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "New +" (–≤–≤–µ—Ä—Ö—É —Å–ø—Ä–∞–≤–∞)
   - –í –≤—ã–ø–∞–¥–∞—é—â–µ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ "PostgreSQL"
   - –í —Ñ–æ—Ä–º–µ —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
     - **Name:** `moonsalon-db` (–∏–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ –∏–º—è)
     - **Database:** `moonsalon` (–∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
     - **User:** `moonsalon` (–∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
     - **Region:** –≤—ã–±–µ—Ä–∏—Ç–µ –±–ª–∏–∂–∞–π—à–∏–π –∫ –≤–∞–º
     - **Plan:** –≤—ã–±–µ—Ä–∏—Ç–µ **Free** (–∏–ª–∏ –ø–ª–∞—Ç–Ω—ã–π, –µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
   - –ù–∞–∂–º–∏—Ç–µ "Create Database"
   - –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑—ã (–æ–±—ã—á–Ω–æ 1-2 –º–∏–Ω—É—Ç—ã)
   - –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑–∞ –ø–æ—è–≤–∏—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ –≤–∞—à–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ Render Dashboard
   - **–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `moonsalon-db`) –≤ —Å–ø–∏—Å–∫–µ —Å–µ—Ä–≤–∏—Å–æ–≤
   - –≠—Ç–æ –æ—Ç–∫—Ä–æ–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
   - –í –ª–µ–≤–æ–º –º–µ–Ω—é –∏–ª–∏ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ –Ω–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é **"Connections"** –∏–ª–∏ **"Info"**
   - –ù–∞–π–¥–∏—Ç–µ –ø–æ–ª–µ **"Internal Database URL"** (–º–æ–∂–µ—Ç –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è "Internal Connection String")
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç URL (–æ–Ω –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫: `postgresql://user:password@host:5432/dbname`)
   - –í–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –≤–∞—à–µ–≥–æ Web Service
   - –í —Ä–∞–∑–¥–µ–ª–µ "Environment Variables" –Ω–∞–π–¥–∏—Ç–µ `DATABASE_URL`
   - –í—Å—Ç–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Internal Database URL –≤ –∑–Ω–∞—á–µ–Ω–∏–µ `DATABASE_URL`
   - –ò–ª–∏ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å `DATABASE_URL` –ø—É—Å—Ç—ã–º –∏ Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç –±–∞–∑—É, –µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `render.yaml`

7. –ù–∞–∂–º–∏—Ç–µ "Create Web Service"
8. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è (–æ–±—ã—á–Ω–æ 5-10 –º–∏–Ω—É—Ç)
9. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π URL –≤–∞—à–µ–≥–æ backend —Å–µ—Ä–≤–∏—Å–∞:**

   **–ì–¥–µ –Ω–∞–π—Ç–∏ URL –≤ Render Dashboard (–ø–æ—à–∞–≥–æ–≤–æ):**

   1. **–û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à Web Service:**

      - –ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ Render Dashboard –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
      - –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ —Å–µ—Ä–≤–∏—Å –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `moonsalon-backend`, –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ

   2. **URL –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–µ—Ä–≤–∏—Å–∞:**

      - –ü—Ä—è–º–æ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º —Å–µ—Ä–≤–∏—Å–∞ (–±–æ–ª—å—à–æ–π –∑–∞–≥–æ–ª–æ–≤–æ–∫)
      - –í—ã —É–≤–∏–¥–∏—Ç–µ —Å–∏–Ω—é—é —Å—Å—ã–ª–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º —Ç–∏–ø–∞: `https://moonsalon-backend.onrender.com`
      - –ò–ª–∏: `https://moonsalon-backend-xxxx.onrender.com` (–≥–¥–µ `xxxx` - —Å–ª—É—á–∞–π–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã)
      - –≠—Ç–æ –∏ –µ—Å—Ç—å –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π backend URL!

   3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL:**
      - –ù–∞–≤–µ–¥–∏—Ç–µ –∫—É—Ä—Å–æ—Ä –Ω–∞ —Å–∏–Ω—é—é —Å—Å—ã–ª–∫—É
      - –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Üí "Copy link address" (–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –≤—ã–¥–µ–ª–∏—Ç–µ —Ç–µ–∫—Å—Ç –∏ Ctrl+C / Cmd+C)
      - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ—Ç URL - –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ frontend

   ‚ö†Ô∏è **–í–ê–ñ–ù–û:** –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π URL –∏–∑ Render Dashboard!

   **–ï—Å–ª–∏ –Ω–µ –≤–∏–¥–∏—Ç–µ URL:**

   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ (—Å—Ç–∞—Ç—É—Å "Live" –∏–ª–∏ –∑–µ–ª–µ–Ω–∞—è –≥–∞–ª–æ—á–∫–∞)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª "Info" –≤ –ª–µ–≤–æ–º –º–µ–Ω—é - —Ç–∞–º —Ç–∞–∫–∂–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–∫–∞–∑–∞–Ω URL
   - –í —Ä–∞–∑–¥–µ–ª–µ "Events" –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è –±—É–¥–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å URL

### –®–∞–≥ 3: –î–µ–ø–ª–æ–π Frontend –Ω–∞ Vercel

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [Vercel.com](https://vercel.com) –∏ —Å–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç (–µ—Å–ª–∏ –µ—â–µ –Ω–µ—Ç)
2. –ù–∞–∂–º–∏—Ç–µ "Add New..." ‚Üí "Project"
3. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç:

   - **Framework Preset:** Vite (–∏–ª–∏ Other, –µ—Å–ª–∏ Vite –Ω–µ—Ç –≤ —Å–ø–∏—Å–∫–µ)
   - **Root Directory:** `frontend`
   - **Build Command:** `npm run build` (–∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `vercel.json`)
   - **Output Directory:** `dist` (–∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `vercel.json`)

   ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `vercel.json` (–∫–æ—Ç–æ—Ä—ã–π —É–∂–µ –µ—Å—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç–µ), Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ –Ω–µ–≥–æ. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å Build Command –∏ Output Directory –ø—É—Å—Ç—ã–º–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞.

5. –î–æ–±–∞–≤—å—Ç–µ Environment Variable:

   **–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É "references Secret which does not exist":**

   **–®–∞–≥ 1: –£–¥–∞–ª–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é (–µ—Å–ª–∏ –µ—Å—Ç—å):**

   **–ì–¥–µ –Ω–∞–π—Ç–∏ Environment Variables –≤ Vercel:**

   - –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –≤ Vercel Dashboard
   - –í –≤–µ—Ä—Ö–Ω–µ–º –º–µ–Ω—é –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞–π–¥–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É **"Settings"** (–∏–ª–∏ –∏–∫–æ–Ω–∫—É —à–µ—Å—Ç–µ—Ä–µ–Ω–∫–∏ ‚öôÔ∏è)
   - –ò–ª–∏ –≤ –±–æ–∫–æ–≤–æ–º –º–µ–Ω—é —Å–ª–µ–≤–∞ –Ω–∞–π–¥–∏—Ç–µ **"Settings"**
   - –í–Ω—É—Ç—Ä–∏ Settings –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"Environment Variables"** (–∏–ª–∏ "Variables")
   - –ò–ª–∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ: –≤ –±–æ–∫–æ–≤–æ–º –º–µ–Ω—é –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞–π–¥–∏—Ç–µ **"Environment Variables"** –Ω–∞–ø—Ä—è–º—É—é

   - –ù–∞–π–¥–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `VITE_API_BASE` –≤ —Å–ø–∏—Å–∫–µ
   - –ï—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å, –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –∫–æ—Ä–∑–∏–Ω—ã (üóëÔ∏è) —Å–ø—Ä–∞–≤–∞, —á—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å
   - –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É–¥–∞–ª–µ–Ω–∏–µ

   **–®–∞–≥ 2: –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:**

   - –í —Ä–∞–∑–¥–µ–ª–µ "Environment Variables" –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Add New"** (–∏–ª–∏ **"Add Variable"**, –∏–ª–∏ **"Create"**)
   - –í –ø–æ–ª–µ **"Key"** (–∏–ª–∏ **"Name"**) –≤–≤–µ–¥–∏—Ç–µ: `VITE_API_BASE`
   - –í –ø–æ–ª–µ **"Value"** –≤—Å—Ç–∞–≤—å—Ç–µ **—Ä–µ–∞–ª—å–Ω—ã–π URL –≤–∞—à–µ–≥–æ backend** –∏–∑ Render
     - –ù–∞–ø—Ä–∏–º–µ—Ä: `https://moonsalon-backend.onrender.com` (–≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π URL!)
   - ‚ö†Ô∏è **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π URL –∏–∑ Render Dashboard!
   - –ü—Ä–æ—Å—Ç–æ –≤–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞–ø—Ä—è–º—É—é –≤ –ø–æ–ª–µ "Value" - –Ω–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ Secret!
   - –ù–∞–∂–º–∏—Ç–µ **"Save"** (–∏–ª–∏ **"Add"**, –∏–ª–∏ **"Create"**)

6. –ù–∞–∂–º–∏—Ç–µ "Deploy"
7. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è
8. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL –≤–∞—à–µ–≥–æ frontend (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://moonsalon.vercel.app`)

### –®–∞–≥ 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ CORS –≤ Backend

1. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ Render Dashboard
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à backend —Å–µ—Ä–≤–∏—Å
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Environment"
4. –ù–∞–π–¥–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `CORS_ORIGIN`
5. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π URL –≤–∞—à–µ–≥–æ frontend** –∏–∑ Vercel (–∏–∑ –®–∞–≥–∞ 3, –ø—É–Ω–∫—Ç 8)
   - –≠—Ç–æ –±—É–¥–µ—Ç —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ: `https://moonsalon-abc123.vercel.app` (–≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π URL –±—É–¥–µ—Ç –¥—Ä—É–≥–∏–º!)
6. –í—Å—Ç–∞–≤—å—Ç–µ –µ–≥–æ –≤ –∑–Ω–∞—á–µ–Ω–∏–µ `CORS_ORIGIN`, –∑–∞–º–µ–Ω–∏–≤ placeholder:

   ```
   CORS_ORIGIN=https://moonsalon-abc123.vercel.app
   ```

   ‚ö†Ô∏è **–í–ê–ñ–ù–û:**

   - **–ù–ï –¥–æ–±–∞–≤–ª—è–π—Ç–µ –∑–∞–≤–µ—Ä—à–∞—é—â–∏–π —Å–ª—ç—à** –≤ –∫–æ–Ω—Ü–µ URL!
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ: `https://dragon-1-ten.vercel.app` ‚úÖ
   - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ: `https://dragon-1-ten.vercel.app/` ‚ùå (—Å –∑–∞–≤–µ—Ä—à–∞—é—â–∏–º —Å–ª—ç—à–µ–º)
   - ‚ö†Ô∏è **–ù–ï –∫–æ–ø–∏—Ä—É–π—Ç–µ `your-frontend-domain.vercel.app` –∏–ª–∏ `https://your-frontend-domain.vercel.app` - —ç—Ç–æ –±—ã–ª placeholder!**
   - ‚ö†Ô∏è **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π URL –∏–∑ Vercel, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ –≤ –®–∞–≥–µ 3, –ø—É–Ω–∫—Ç 8!**

7. **–¢–∞–∫–∂–µ –¥–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `FRONTEND_URL`** (–¥–ª—è —Å—Å—ã–ª–æ–∫ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ email):

   - –í —Ç–æ–º –∂–µ —Ä–∞–∑–¥–µ–ª–µ Environment –Ω–∞–∂–º–∏—Ç–µ "Add Environment Variable" (–∏–ª–∏ "Add New")
   - Key: `FRONTEND_URL`
   - Value: —Ç–æ—Ç –∂–µ URL, —á—Ç–æ –∏ –≤ `CORS_ORIGIN` (–±–µ–∑ –∑–∞–≤–µ—Ä—à–∞—é—â–µ–≥–æ —Å–ª—ç—à–∞!)
   - –ù–∞–ø—Ä–∏–º–µ—Ä: `https://dragon-1-ten.vercel.app` (–≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π URL!)
   - ‚ö†Ô∏è **–ù–ï –¥–æ–±–∞–≤–ª—è–π—Ç–µ –∑–∞–≤–µ—Ä—à–∞—é—â–∏–π —Å–ª—ç—à** –≤ –∫–æ–Ω—Ü–µ URL!
   - –ù–∞–∂–º–∏—Ç–µ "Save"

8. –ù–∞–∂–º–∏—Ç–µ "Save Changes" - —Å–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—Å—è

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è

1. **Backend Health Check:**

   ```
   https://<–≤–∞—à-—Ä–µ–∞–ª—å–Ω—ã–π-backend-url>.onrender.com/api/health
   ```

   ‚ö†Ô∏è **–ó–∞–º–µ–Ω–∏—Ç–µ `<–≤–∞—à-—Ä–µ–∞–ª—å–Ω—ã–π-backend-url>` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π URL –∏–∑ Render Dashboard!**

   –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: `{"status":"UP","service":"backend"}`

2. **Swagger Documentation:**

   ```
   https://<–≤–∞—à-—Ä–µ–∞–ª—å–Ω—ã–π-backend-url>.onrender.com/api-docs
   ```

3. **Prometheus Metrics:**

   ```
   https://<–≤–∞—à-—Ä–µ–∞–ª—å–Ω—ã–π-backend-url>.onrender.com/metrics
   ```

4. **Frontend:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ URL –≤–∞—à–µ–≥–æ frontend
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

## –í–∞—Ä–∏–∞–Ω—Ç 2: Render (Backend) + Netlify (Frontend)

### –î–µ–ø–ª–æ–π Frontend –Ω–∞ Netlify

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [Netlify.com](https://netlify.com) –∏ —Å–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç
2. –ù–∞–∂–º–∏—Ç–µ "Add new site" ‚Üí "Import an existing project"
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ:

   - **Base directory:** `frontend`
   - **Build command:** `npm run build`
   - **Publish directory:** `frontend/dist`

5. –î–æ–±–∞–≤—å—Ç–µ Environment Variable:

   ‚ö†Ô∏è **–í–ê–ñ–ù–û:** –î–æ–±–∞–≤–ª—è–π—Ç–µ –æ–±—ã—á–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è, –∞ –Ω–µ Secret!

   - –í —Ä–∞–∑–¥–µ–ª–µ "Site settings" ‚Üí "Environment variables" –Ω–∞–∂–º–∏—Ç–µ "Add a variable"
   - **Key:** `VITE_API_BASE`
   - **Value:** –í—Å—Ç–∞–≤—å—Ç–µ **—Ä–µ–∞–ª—å–Ω—ã–π URL –≤–∞—à–µ–≥–æ backend** –∏–∑ Render (–∫–æ—Ç–æ—Ä—ã–π –≤—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ –≤ –®–∞–≥–µ 2, –ø—É–Ω–∫—Ç 9)
   - ‚ö†Ô∏è **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π URL –∏–∑ Render Dashboard!
   - **Scopes:** –í—ã–±–µ—Ä–∏—Ç–µ "All scopes" –∏–ª–∏ "Production"
   - –ù–∞–∂–º–∏—Ç–µ "Save"

   ‚ö†Ô∏è **–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É "references Secret which does not exist":**

   - –£–¥–∞–ª–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é (–µ—Å–ª–∏ –µ—Å—Ç—å)
   - –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤—ã—à–µ
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Secrets

6. –ù–∞–∂–º–∏—Ç–µ "Deploy site"
7. –û–±–Ω–æ–≤–∏—Ç–µ `CORS_ORIGIN` –≤ Render –Ω–∞ URL Netlify

## –í–∞—Ä–∏–∞–Ω—Ç 3: Heroku (Backend) + Vercel (Frontend)

### –î–µ–ø–ª–æ–π Backend –Ω–∞ Heroku

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [Heroku CLI](https://devcenter.heroku.com/articles/heroku-cli)
2. –í–æ–π–¥–∏—Ç–µ –≤ Heroku:

   ```bash
   heroku login
   ```

3. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

   ```bash
   cd backend
   heroku create moonsalon-backend
   ```

4. –î–æ–±–∞–≤—å—Ç–µ PostgreSQL:

   ```bash
   heroku addons:create heroku-postgresql:mini
   ```

5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

   ```bash
   heroku config:set NODE_ENV=production
   heroku config:set JWT_SECRET=<–≤–∞—à-—Å–µ–∫—Ä–µ—Ç>
   heroku config:set CORS_ORIGIN=https://your-frontend.vercel.app
   ```

6. –î–µ–ø–ª–æ–π:

   ```bash
   git subtree push --prefix backend heroku main
   ```

7. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏:
   ```bash
   heroku run npx prisma migrate deploy
   ```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ render.yaml (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π)

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `render.yaml`, Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã:

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ Render Dashboard
2. –ù–∞–∂–º–∏—Ç–µ "New +" ‚Üí "Blueprint"
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç `render.yaml` –∏ —Å–æ–∑–¥–∞—Å—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
5. –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤—Ä—É—á–Ω—É—é –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ "the URL must start with the protocol `file:`" –∏–ª–∏ "SQLite database"

**–û—à–∏–±–∫–∞ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:**

```
Error: Prisma schema validation
error: Error validating datasource `db`: the URL must start with the protocol `file:`.
Datasource "db": SQLite database
```

**–†–µ—à–µ–Ω–∏–µ:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ `backend/prisma/schema.prisma`:**

   ```prisma
   datasource db {
     provider = "postgresql"  ‚Üê –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "postgresql"!
     url      = env("DATABASE_URL")
   }
   ```

2. **–ï—Å–ª–∏ —Ç–∞–º `sqlite`, –∏–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ `postgresql`:**

   ```bash
   cd backend
   npm run db:switch:postgresql
   git add prisma/schema.prisma
   git commit -m "Fix: Switch to PostgreSQL for production"
   git push
   ```

3. **–î–æ–∂–¥–∏—Ç–µ—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –Ω–∞ Render** (–∏–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é)

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `DATABASE_URL` –≤ Render —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ PostgreSQL:**
   - –î–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `postgresql://` –∏–ª–∏ `postgres://`
   - –ù–µ –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `file:`

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ "migrate found failed migrations in the target database"

**–û—à–∏–±–∫–∞ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:**

```
Error: P3009
migrate found failed migrations in the target database, new migrations will not be applied.
The `20251022033954_init` migration started at ... failed
```

**–†–µ—à–µ–Ω–∏–µ:**

–≠—Ç–∞ –æ—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –∫–æ–≥–¥–∞ –º–∏–≥—Ä–∞—Ü–∏–∏ –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è SQLite, –∞ —Ç–µ–ø–µ—Ä—å –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ PostgreSQL. –ï—Å—Ç—å –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞:

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `db push` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

1. **–ò–∑–º–µ–Ω–∏—Ç–µ Build Command –≤ Render Dashboard:**

   - –ó–∞–π–¥–∏—Ç–µ –≤ Settings –≤–∞—à–µ–≥–æ Web Service
   - –ù–∞–π–¥–∏—Ç–µ "Build Command"
   - –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞: `cd backend && npm ci && npx prisma generate && npx prisma db push --accept-data-loss`
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ Manual Deploy

2. **`db push` —Å–æ–∑–¥–∞—Å—Ç —Å—Ö–µ–º—É –Ω–∞–ø—Ä—è–º—É—é –∏–∑ `schema.prisma`**, –∏–≥–Ω–æ—Ä–∏—Ä—É—è failed migrations.

**–í–∞—Ä–∏–∞–Ω—Ç 2: –û—á–∏—Å—Ç–∏—Ç—å failed migrations –≤—Ä—É—á–Ω—É—é**

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏, –Ω—É–∂–Ω–æ –æ—á–∏—Å—Ç–∏—Ç—å failed migrations:

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Render Shell:**

   - –í Render Dashboard: Settings ‚Üí Shell
   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ:

   ```bash
   cd backend
   npx prisma migrate resolve --rolled-back 20251022033954_init
   ```

   (–∑–∞–º–µ–Ω–∏—Ç–µ `20251022033954_init` –Ω–∞ –∏–º—è –≤–∞—à–µ–π failed migration)

2. **–ò–ª–∏ —É–¥–∞–ª–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É –º–∏–≥—Ä–∞—Ü–∏–π:**

   ```sql
   -- –í Render: PostgreSQL ‚Üí Connect ‚Üí Query
   DROP TABLE IF EXISTS "_prisma_migrations";
   ```

3. **–ó–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `db push` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ö–µ–º—ã:**
   ```bash
   npx prisma db push --accept-data-loss
   ```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –í–∞—Ä–∏–∞–Ω—Ç 1 (`db push`) - —ç—Ç–æ –ø—Ä–æ—â–µ –∏ –Ω–∞–¥–µ–∂–Ω–µ–µ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –¥–µ–ø–ª–æ—è.

### –ü—Ä–æ–±–ª–µ–º–∞: Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Render Dashboard
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `DATABASE_URL` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω (PostgreSQL URL)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Prisma —Å—Ö–µ–º–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `db push` –∏–ª–∏ –∏—Å–ø—Ä–∞–≤—å—Ç–µ failed migrations)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `schema.prisma` —É–∫–∞–∑–∞–Ω `provider = "postgresql"`

### –ü—Ä–æ–±–ª–µ–º–∞: CORS –æ—à–∏–±–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `CORS_ORIGIN` –≤ backend —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π frontend URL
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ frontend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `VITE_API_BASE`

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—É—Å—Ç–∞—è

**–†–µ—à–µ–Ω–∏–µ:**

- –ó–∞–ø—É—Å—Ç–∏—Ç–µ seed —Å–∫—Ä–∏–ø—Ç:
  ```bash
  # –í Render: Settings ‚Üí Shell
  cd backend && npm run seed
  ```

### –ü—Ä–æ–±–ª–µ–º–∞: Frontend –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ "Failed to fetch"

**–û—à–∏–±–∫–∞ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:**

```
Failed to fetch
```

**–†–µ—à–µ–Ω–∏–µ:**

–≠—Ç–∞ –æ—à–∏–±–∫–∞ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ frontend –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ backend. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ:

**1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `VITE_API_BASE` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤ Vercel:**

**–®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:**

- –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –≤ Vercel Dashboard
- Settings ‚Üí Environment Variables
- –ù–∞–π–¥–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `VITE_API_BASE` –≤ —Å–ø–∏—Å–∫–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
  - ‚úÖ –ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: `https://moonsalon-backend.onrender.com` (–≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π URL!)
  - ‚úÖ –í –∫–æ–ª–æ–Ω–∫–µ "Environments" –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≥–∞–ª–æ—á–∫–∞ –¥–ª—è **Production** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
  - ‚ö†Ô∏è **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `http://localhost:8080`** - —ç—Ç–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!

**–®–∞–≥ 2: –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –µ—Å—Ç—å, –Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

- –£–¥–∞–ª–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é (–∏–∫–æ–Ω–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã üóëÔ∏è)
- –î–æ–±–∞–≤—å—Ç–µ –∑–∞–Ω–æ–≤–æ:
  - Key: `VITE_API_BASE`
  - Value: `https://moonsalon-backend.onrender.com` (–≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π URL!)
  - Environments: ‚úÖ Production (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!), ‚úÖ Preview, ‚úÖ Development (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - –ù–∞–∂–º–∏—Ç–µ "Save"

**–®–∞–≥ 3: –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!):**

- –í Vercel Dashboard: Deployments ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π ‚Üí "Redeploy"
- –ò–ª–∏ –∑–∞–ø—É—à—å—Ç–µ –Ω–æ–≤—ã–π –∫–æ–º–º–∏—Ç –≤ GitHub
- ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –í Vite –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏, –ø–æ—ç—Ç–æ–º—É –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç!

**2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ backend –¥–æ—Å—Ç—É–ø–µ–Ω:**

- –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://<–≤–∞—à-backend-url>.onrender.com/api/health`
- –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è: `{"status":"UP","service":"backend"}`
- –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Render Dashboard

**3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS –≤ backend:**

- –û—Ç–∫—Ä–æ–π—Ç–µ Render Dashboard ‚Üí –≤–∞—à backend —Å–µ—Ä–≤–∏—Å ‚Üí Environment
- –ù–∞–π–¥–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `CORS_ORIGIN`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π frontend URL –∏–∑ Vercel
- –ù–∞–ø—Ä–∏–º–µ—Ä: `https://moonsalon-abc123.vercel.app` (–≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π URL!)
- ‚ö†Ô∏è **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `http://localhost:5173`** - —ç—Ç–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!

**4. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ frontend –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:**

- –í Vercel Dashboard: Deployments ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π ‚Üí "Redeploy"
- –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—à—å—Ç–µ –Ω–æ–≤—ã–π –∫–æ–º–º–∏—Ç –≤ GitHub

**5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:**

- –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí –≤–∫–ª–∞–¥–∫–∞ "Console"
- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —Ç–æ—á–Ω—É—é –æ—à–∏–±–∫—É - —Ç–∞–º –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∫–ª–∞–¥–∫—É "Network" - –∫–∞–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∏ –∫–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ "Environment Variable references Secret which does not exist"

**–û—à–∏–±–∫–∞ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:**

```
Environment Variable "VITE_API_BASE" references Secret "vite_api_base", which does not exist.
```

**–†–µ—à–µ–Ω–∏–µ:**

–≠—Ç–∞ –æ—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –∫–æ–≥–¥–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∫–∞–∫ Secret, –Ω–æ Secret –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

**–î–ª—è Vercel:**

1. **–£–¥–∞–ª–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:**

   **–ì–¥–µ –Ω–∞–π—Ç–∏ Environment Variables –≤ Vercel:**

   - –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –≤ Vercel Dashboard
   - –í –±–æ–∫–æ–≤–æ–º –º–µ–Ω—é –ø—Ä–æ–µ–∫—Ç–∞ (—Å–ª–µ–≤–∞) –Ω–∞–π–¥–∏—Ç–µ **"Settings"**
   - –í–Ω—É—Ç—Ä–∏ Settings –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"Environment Variables"** (–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ **"Variables"**)
   - –ò–ª–∏ –≤ –≤–µ—Ä—Ö–Ω–µ–º –º–µ–Ω—é –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞–π–¥–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É **"Settings"** ‚Üí **"Environment Variables"**

   - –ù–∞–π–¥–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `VITE_API_BASE` –≤ —Å–ø–∏—Å–∫–µ
   - –ï—Å–ª–∏ –æ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —É–¥–∞–ª–∏—Ç–µ –µ—ë (–Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –∫–æ—Ä–∑–∏–Ω—ã üóëÔ∏è)

2. **–î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –ø—Ä–∞–≤–∏–ª—å–Ω–æ:**

   - –ù–∞–∂–º–∏—Ç–µ "Add New" (–∏–ª–∏ "Add Variable", –∏–ª–∏ "Create")
   - –í –ø–æ–ª–µ "Key" (–∏–ª–∏ "Name") –≤–≤–µ–¥–∏—Ç–µ: `VITE_API_BASE`
   - –í –ø–æ–ª–µ "Value" –≤—Å—Ç–∞–≤—å—Ç–µ **—Ä–µ–∞–ª—å–Ω—ã–π URL –≤–∞—à–µ–≥–æ backend** –∏–∑ Render
     - –ù–∞–ø—Ä–∏–º–µ—Ä: `https://moonsalon-backend.onrender.com` (–≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π URL!)
   - ‚ö†Ô∏è **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π URL –∏–∑ Render Dashboard!
   - –í —Ä–∞–∑–¥–µ–ª–µ **"Environments"** (–∏–ª–∏ **"Environment"**) –≤—ã–±–µ—Ä–∏—Ç–µ –≥–∞–ª–æ—á–∫–∏:
     - ‚úÖ Production
     - ‚úÖ Preview (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
     - ‚úÖ Development (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - **–ü—Ä–æ—Å—Ç–æ –≤–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞–ø—Ä—è–º—É—é –≤ –ø–æ–ª–µ "Value"** - –Ω–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ Secret!
   - –ù–∞–∂–º–∏—Ç–µ "Save" (–∏–ª–∏ "Add", –∏–ª–∏ "Create")

3. **–ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:**
   - Deployments ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π ‚Üí "Redeploy"

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ 404 NOT_FOUND –≤ Vercel

**–û—à–∏–±–∫–∞ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:**

```
404: NOT_FOUND
Code: NOT_FOUND
```

**–†–µ—à–µ–Ω–∏–µ:**

–≠—Ç–∞ –æ—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –∫–æ–≥–¥–∞ Vercel –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ —Ñ–∞–π–ª—ã –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Ä–æ—É—Ç–∏–Ω–≥ –¥–ª—è SPA.

**1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Vercel:**

- –û—Ç–∫—Ä–æ–π—Ç–µ Vercel Dashboard ‚Üí –≤–∞—à –ø—Ä–æ–µ–∫—Ç ‚Üí Settings ‚Üí General
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
  - **Root Directory:** `frontend` ‚úÖ
  - **Framework Preset:** Vite (–∏–ª–∏ Other)
  - **Build Command:** `npm run build` (–∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `vercel.json`)
  - **Output Directory:** `dist` (–∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `vercel.json`)

**2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `vercel.json`:**

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –µ—Å—Ç—å —Ñ–∞–π–ª `vercel.json` —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π:

```json
{
  "version": 2,
  "buildCommand": "cd frontend && npm install && npm run build",
  "outputDirectory": "frontend/dist",
  "rewrites": [
    {
      "source": "/(.*)",
      "destination": "/index.html"
    }
  ]
}
```

**3. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Root Directory `frontend`:**

- –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ **Root Directory:** `frontend`
- Build Command –∏ Output Directory –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º–∏ (Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –¥–ª—è Vite)
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
  - **Build Command:** `npm run build`
  - **Output Directory:** `dist`

**4. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:**

- Deployments ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π ‚Üí "Redeploy"
- –ò–ª–∏ –∑–∞–ø—É—à—å—Ç–µ –Ω–æ–≤—ã–π –∫–æ–º–º–∏—Ç –≤ GitHub

**–î–ª—è Netlify:**

1. **–£–¥–∞–ª–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:**

   - –ó–∞–π–¥–∏—Ç–µ –≤ Site settings ‚Üí Environment variables
   - –ù–∞–π–¥–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `VITE_API_BASE`
   - –ï—Å–ª–∏ –æ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —É–¥–∞–ª–∏—Ç–µ –µ—ë

2. **–î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –ø—Ä–∞–≤–∏–ª—å–Ω–æ:**

   - –ù–∞–∂–º–∏—Ç–µ "Add a variable"
   - **Key:** `VITE_API_BASE`
   - **Value:** –í—Å—Ç–∞–≤—å—Ç–µ **—Ä–µ–∞–ª—å–Ω—ã–π URL –≤–∞—à–µ–≥–æ backend** –∏–∑ Render (–∫–æ—Ç–æ—Ä—ã–π –≤—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ –≤ –®–∞–≥–µ 2, –ø—É–Ω–∫—Ç 9)
   - ‚ö†Ô∏è **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π URL –∏–∑ Render Dashboard!
   - **Scopes:** –í—ã–±–µ—Ä–∏—Ç–µ "All scopes" –∏–ª–∏ "Production"
   - –ù–∞–∂–º–∏—Ç–µ "Save"

3. **–ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:**
   - Deploys ‚Üí "Trigger deploy" ‚Üí "Clear cache and deploy site"

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ "The 'X-Forwarded-For' header is set but the Express 'trust proxy' setting is false"

**–û—à–∏–±–∫–∞ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:**

```
ValidationError: The 'X-Forwarded-For' header is set but the Express 'trust proxy' setting is false
```

**–†–µ—à–µ–Ω–∏–µ:**

–≠—Ç–∞ –æ—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –∫–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞ –ø—Ä–æ–∫—Å–∏ (Render, Heroku), –Ω–æ Express –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–∫—Å–∏.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**

1. **–û—Ç–∫—Ä–æ–π—Ç–µ `backend/src/index.js`**

2. **–î–æ–±–∞–≤—å—Ç–µ `trust proxy` –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º rate limiter:**

   ```javascript
   export const app = express();

   // Trust proxy –¥–ª—è —Ä–∞–±–æ—Ç—ã –∑–∞ –ø—Ä–æ–∫—Å–∏ (Render, Heroku, etc.)
   app.set("trust proxy", 1);

   app.use(helmet());
   // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
   ```

3. **–ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏ –∑–∞–ø—É—à—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**

   ```bash
   git add backend/src/index.js
   git commit -m "Fix: Add trust proxy for Render deployment"
   git push
   ```

4. **Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç –ø—Ä–æ–µ–∫—Ç** - –æ—à–∏–±–∫–∞ –∏—Å—á–µ–∑–Ω–µ—Ç

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

1. **Health Check:**

   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ Render/Vercel
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/api/health` endpoint

2. **Prometheus Metrics:**

   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫ —á–µ—Ä–µ–∑ `/metrics` endpoint
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Å Grafana (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

3. **–õ–æ–≥–∏:**
   - –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ –ª–æ–≥–∏ –≤ Render Dashboard
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–ª–µ—Ä—Ç—ã –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–µ–ø–ª–æ—è

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ:

1. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏ –∑–∞–ø—É—à—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

   ```bash
   git add .
   git commit -m "Update"
   git push origin main
   ```

2. Render/Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä—É—Ç –∏ –∑–∞–¥–µ–ø–ª–æ—è—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

## –°—Ç–æ–∏–º–æ—Å—Ç—å

- **Render Free Tier:**

  - Backend: –±–µ—Å–ø–ª–∞—Ç–Ω–æ (—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏)
  - PostgreSQL: –±–µ—Å–ø–ª–∞—Ç–Ω–æ (—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏)
  - –°–µ—Ä–≤–∏—Å—ã –º–æ–≥—É—Ç "–∑–∞—Å—ã–ø–∞—Ç—å" –ø–æ—Å–ª–µ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

- **Vercel Free Tier:**

  - Frontend: –±–µ—Å–ø–ª–∞—Ç–Ω–æ
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–ø–ª–æ–∏ –∏–∑ GitHub
  - CDN –≤–∫–ª—é—á–µ–Ω

- **Netlify Free Tier:**
  - Frontend: –±–µ—Å–ø–ª–∞—Ç–Ω–æ
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–ø–ª–æ–∏
  - CDN –≤–∫–ª—é—á–µ–Ω

–î–ª—è production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–ª–∞—Ç–Ω—ã–µ –ø–ª–∞–Ω—ã –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏.
